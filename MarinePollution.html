<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marine Debris ML Analysis Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f9fc;
            color: #333;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e6ef;
        }
        
        h1 {
            color: #1a5f7a;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }
        
        .subtitle {
            color: #2d8bb8;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .timestamp {
            color: #666;
            font-size: 0.9rem;
            font-style: italic;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 25px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }
        
        .card-title {
            color: #1a5f7a;
            margin-bottom: 20px;
            font-size: 1.4rem;
            border-bottom: 1px solid #e0e6ef;
            padding-bottom: 10px;
        }
        
        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 20px;
            text-align: center;
        }
        
        .metric-title {
            font-size: 1.1rem;
            color: #2d8bb8;
            margin-bottom: 10px;
        }
        
        .metric-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #1a5f7a;
        }
        
        .metric-subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }
        
        .model-comparison {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .model-badge {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .rf-badge {
            background-color: rgba(52, 152, 219, 0.15);
            color: #2980b9;
        }
        
        .xgb-badge {
            background-color: rgba(46, 204, 113, 0.15);
            color: #27ae60;
        }
        
        .lstm-badge {
            background-color: rgba(155, 89, 182, 0.15);
            color: #8e44ad;
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .performance-table th {
            background-color: #1a5f7a;
            color: white;
            padding: 12px 15px;
            text-align: left;
        }
        
        .performance-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #e0e6ef;
        }
        
        .performance-table tr:nth-child(even) {
            background-color: #f8fafc;
        }
        
        .performance-table tr:hover {
            background-color: #f0f7ff;
        }
        
        .highlight {
            font-weight: 700;
            color: #27ae60;
        }
        
        .lowlight {
            font-weight: 700;
            color: #e74c3c;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e6ef;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .card {
                padding: 15px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Marine Debris ML Analysis Dashboard</h1>
            <p class="subtitle">Machine Learning Model Performance and Pollution Forecast</p>
            <p class="timestamp">Analysis Date: 2025-12-02 | Data Source: MDMAP_ChineseBellChurch_20251201</p>
        </header>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-title">Best Model Accuracy</div>
                <div class="metric-value">83.80%</div>
                <div class="metric-subtitle">XGBoost</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Overall Training Accuracy</div>
                <div class="metric-value">78.41%</div>
                <div class="metric-subtitle">Weighted Average</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Total Samples</div>
                <div class="metric-value">24</div>
                <div class="metric-subtitle">19 training, 5 test</div>
            </div>
            
            <div class="metric-card">
                <div class="metric-title">Features Used</div>
                <div class="metric-value">92</div>
                <div class="metric-subtitle">Target: total_debris_items</div>
            </div>
        </div>
        
        <div class="model-comparison">
            <div class="model-badge rf-badge">Random Forest: 73.42% Accuracy</div>
            <div class="model-badge xgb-badge">XGBoost: 83.80% Accuracy (Best)</div>
            <div class="model-badge lstm-badge">LSTM: 35.81% Accuracy</div>
        </div>
        
        <div class="dashboard">
            <div class="card">
                <h2 class="card-title">Model Performance Comparison</h2>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title">Actual vs Predicted Values (Test Set)</h2>
                <div class="chart-container">
                    <canvas id="actualVsPredictedChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title">Pollution Forecast (Next 6 Months)</h2>
                <div class="chart-container">
                    <canvas id="forecastChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title">Model Performance Metrics</h2>
                <table class="performance-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>MAE</th>
                            <th>RMSE</th>
                            <th>R² Score</th>
                            <th>Accuracy</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Random Forest</td>
                            <td>12.06</td>
                            <td>15.95</td>
                            <td>0.52</td>
                            <td class="highlight">73.42%</td>
                        </tr>
                        <tr>
                            <td>XGBoost</td>
                            <td>7.25</td>
                            <td>9.72</td>
                            <td>0.82</td>
                            <td class="highlight">83.80%</td>
                        </tr>
                        <tr>
                            <td>LSTM</td>
                            <td>32.49</td>
                            <td>38.52</td>
                            <td class="lowlight">-1.81</td>
                            <td class="lowlight">35.81%</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3 class="card-title" style="margin-top: 25px; font-size: 1.2rem;">Dataset Information</h3>
                <table class="performance-table">
                    <tbody>
                        <tr>
                            <td><strong>Total Samples</strong></td>
                            <td>24</td>
                        </tr>
                        <tr>
                            <td><strong>Training Samples</strong></td>
                            <td>19</td>
                        </tr>
                        <tr>
                            <td><strong>Test Samples</strong></td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <td><strong>Features Used</strong></td>
                            <td>92</td>
                        </tr>
                        <tr>
                            <td><strong>Target Variable</strong></td>
                            <td>total_debris_items</td>
                        </tr>
                        <tr>
                            <td><strong>Best Model</strong></td>
                            <td>XGBoost</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <footer>
            <p>Marine Debris Machine Learning Analysis | Generated on 2025-12-02 14:35:46</p>
            <p>Data Source: MDMAP_ChineseBellChurch_20251201 (2).csv | Models: Random Forest, XGBoost, LSTM</p>
        </footer>
    </div>

    <script>
        // Model Performance Chart
        const performanceCtx = document.getElementById('performanceChart').getContext('2d');
        const performanceChart = new Chart(performanceCtx, {
            type: 'bar',
            data: {
                labels: ['Random Forest', 'XGBoost', 'LSTM'],
                datasets: [
                    {
                        label: 'Accuracy (%)',
                        data: [73.42, 83.80, 35.81],
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(155, 89, 182, 0.7)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(155, 89, 182, 1)'
                        ],
                        borderWidth: 1
                    },
                    {
                        label: 'R² Score',
                        data: [0.52, 0.82, -1.81],
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.4)',
                            'rgba(46, 204, 113, 0.4)',
                            'rgba(155, 89, 182, 0.4)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(155, 89, 182, 1)'
                        ],
                        borderWidth: 1,
                        type: 'line',
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Accuracy (%)'
                        }
                    },
                    y1: {
                        position: 'right',
                        beginAtZero: false,
                        title: {
                            display: true,
                            text: 'R² Score'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.datasetIndex === 0) {
                                    label += context.parsed.y.toFixed(2) + '%';
                                } else {
                                    label += context.parsed.y.toFixed(2);
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });
        
        // Actual vs Predicted Chart
        const actualVsPredictedCtx = document.getElementById('actualVsPredictedChart').getContext('2d');
        const actualVsPredictedChart = new Chart(actualVsPredictedCtx, {
            type: 'line',
            data: {
                labels: ['Sample 1', 'Sample 2', 'Sample 3', 'Sample 4', 'Sample 5'],
                datasets: [
                    {
                        label: 'Actual Values',
                        data: [25, 29, 65, 62, 5],
                        borderColor: 'rgba(41, 128, 185, 1)',
                        backgroundColor: 'rgba(41, 128, 185, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.2
                    },
                    {
                        label: 'Random Forest Predictions',
                        data: [23.02, 30.51, 35.41, 45.33, 15.57],
                        borderColor: 'rgba(52, 152, 219, 1)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        tension: 0.2
                    },
                    {
                        label: 'XGBoost Predictions',
                        data: [21.55, 26.29, 50.79, 46.15, 4.96],
                        borderColor: 'rgba(46, 204, 113, 1)',
                        borderWidth: 2,
                        tension: 0.2
                    },
                    {
                        label: 'LSTM Predictions',
                        data: [2.47, 3.89, 6.37, 8.77, 2.06],
                        borderColor: 'rgba(155, 89, 182, 1)',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        tension: 0.2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Debris Items Count'
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2);
                            }
                        }
                    }
                }
            }
        });
        
        // Forecast Chart
        const forecastCtx = document.getElementById('forecastChart').getContext('2d');
        
        // Generate forecast data (simulating next 6 months)
        const months = ['Dec 2025', 'Jan 2026', 'Feb 2026', 'Mar 2026', 'Apr 2026', 'May 2026', 'Jun 2026'];
        const actualData = [25, 29, 65, 62, 5];
        const lastActual = actualData[actualData.length - 1];
        
        // Create a forecast trend based on the best model (XGBoost)
        const forecastData = [];
        for (let i = 0; i < 7; i++) {
            // Simulating a slight upward trend with some randomness
            const baseTrend = lastActual * (1 + 0.05 * i);
            const randomFactor = 0.8 + Math.random() * 0.4;
            forecastData.push(Math.max(0, baseTrend * randomFactor));
        }
        
        // Upper and lower bounds for confidence interval
        const upperBound = forecastData.map(val => val * 1.2);
        const lowerBound = forecastData.map(val => val * 0.8);
        
        const forecastChart = new Chart(forecastCtx, {
            type: 'line',
            data: {
                labels: months,
                datasets: [
                    {
                        label: 'Forecast (XGBoost Model)',
                        data: forecastData,
                        borderColor: 'rgba(46, 204, 113, 1)',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        borderWidth: 3,
                        fill: false,
                        tension: 0.3
                    },
                    {
                        label: 'Confidence Interval (Upper)',
                        data: upperBound,
                        borderColor: 'rgba(46, 204, 113, 0.3)',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: '-1',
                        tension: 0.3
                    },
                    {
                        label: 'Confidence Interval (Lower)',
                        data: lowerBound,
                        borderColor: 'rgba(46, 204, 113, 0.3)',
                        backgroundColor: 'rgba(46, 204, 113, 0.05)',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: '-1',
                        tension: 0.3
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Predicted Debris Items'
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += Math.round(context.parsed.y * 10) / 10;
                                return label;
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: 4.5,
                                xMax: 4.5,
                                borderColor: 'rgba(0, 0, 0, 0.5)',
                                borderWidth: 2,
                                borderDash: [5, 5],
                                label: {
                                    display: true,
                                    content: 'Forecast Start',
                                    position: 'start'
                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>